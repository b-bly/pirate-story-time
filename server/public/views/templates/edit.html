<div ng-include="'views/partials/nav.html'"></div>

<!-- search, my library, pirateverse, settings -->




<!-- CARDS not edit mode -->

<div layout="column" class="md-inline-form">


  <md-content md-theme="docs-dark" layout-padding layout="row" layout-xs="column" layout-sm="column">
    <div flex layout-align="start center">
      <h2 class="lead">Browse cards</h2>
    </div>
    <div layout-align="center center">
      <md-input-container>
        <input ng-model="vm.searchText" placeholder="search">
      </md-input-container>
      <md-button ng-href="#/add" class="md-icon-button" aria-label="Menu">
        <md-icon class="md-48">add</md-icon>
      </md-button>
      <md-button ng-href="#/settings" class="md-icon-button" aria-label="Menu">
        <md-icon class="md-48">settings</md-icon>
      </md-button>
    </div>
    <div flex></div>
  </md-content>
</div>

<md-content flex id="myCards">
  <div flex="30" layout-align="start center"></div>
  <section layout="row" layout-align="center center" layout-wrap>
    <!-- change getuserscards to get mylibrary cards -->
    <md-button ng-click="vm.cardService.getMyFavorites();" md-no-ink class="md-primary">My Favorites</md-button>
    <md-button ng-click="vm.cardService.getCards()" md-no-ink class="md-primary">Pirateverse</md-button>
  </section>
</md-content>

<!-- CARDS non edit mode  -->

<div flex>
  <md-content class="md-padding" layout="row" layout-wrap layout-sm="column" layout-xs="column">
    <md-card layout="column" class="browse-card" ng-repeat="card in vm.cards.list | filter:vm.searchText" md-theme="{{ showDarkTheme ? 'dark-blue' : 'default' }}">
      <div>
        <md-card-title>
          <md-card-header>
            <md-card-title-text>
              <span class="md-headline">Type: {{ card.type }}</span>
              <span class="md-subhead">Description: {{card.description }}</span>
              <span>Save to pirateverse? <span ng-if="card.savetopirateverse">Of course, matey!</span>
              <p ng-if="!card.savetopirateverse">Good heavens, no!</p>
              </span>
            </md-card-title-text>
          </md-card-header>
        </md-card-title>

        <md-card-title-media class="card-image">
          <img ng-hide="!card.url" ng-src="{{card.url}}" style="height: 200px; max-width: 200px;">
        </md-card-title-media>
        <md-card-actions layout="row" layout-align="end center">
          <!-- pirateverse: add / favorite button -->
          <!-- My Deck: remove button -->
          <md-button ng-show="vm.cardService.showPirateverseActions" ng-click="vm.addToMyDeck(card._id);">
            add <md-icon md-font-icon="fa fa-add" class="md-48" aria-label="add to my deck">add</md-icon>
          </md-button>
          <md-button ng-show="!(vm.cardService.showPirateverseActions)" class="" ng-click="vm.removeCard(card._id)">
            remove <md-icon class="md-48" aria-label="remove from my deck">remove</md-icon>
          </md-button>
        </md-card-actions>
      </div>
    </md-card>
  </md-content>
</div>
